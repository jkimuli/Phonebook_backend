{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Footer.js","components/Filter.js","components/SuccessAlert.js","components/ErrorAlert.js","services/phone.js","App.js","index.js"],"names":["Persons","persons","onClick","personStyle","color","paddingTop","fontSize","map","person","style","liStyle","key","name","number","PersonForm","props","onSubmit","e","value","newName","onChange","handleChangeName","target","required","newNumber","handleChangeNumber","type","Footer","textAlign","fonstSize","Filter","searchText","handleChangeSearchText","SuccessAlert","message","length","background","borderStyle","borderRadius","padding","marginBottom","ErrorAlert","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useEffect","phoneService","initialPhones","setPersons","catch","error","console","log","useState","setNewName","setNewNumber","setSearchText","successMessage","setSuccessMessage","errorMessage","setErrorMessage","showSuccessMessage","setTimeout","showErrorMessage","preventDefault","includes","window","confirm","filter","changedPerson","returnedPerson","newPersonObject","toLowerCase","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a2629fe3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Persons = ({persons,onClick}) => {\r\n\r\n    const personStyle = {\r\n        'liStyle':{\r\n            color:'grey',\r\n            paddingTop: 8,\r\n            fontSize: 15,\r\n        }          \r\n          \r\n    }\r\n\r\n    const rows = () => persons.map(person => <li style={personStyle.liStyle} key={person.name}>{person.name} - {person.number} &nbsp; <button onClick={()=>onClick(person)}>Delete</button></li>)\r\n\r\n    return(\r\n        <ul>\r\n            {rows()}\r\n        </ul>\r\n    )\r\n\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = (props) => {    \r\n\r\n    return (\r\n\r\n     <form onSubmit={(e) => props.onSubmit(e)}>\r\n          \r\n        <div>\r\n          name: <input value={props.newName}\r\n                       onChange={(e)=> props.handleChangeName(e.target.value)} required/>\r\n        </div>\r\n\r\n        <br></br>\r\n        <div>number: <input value={props.newNumber} \r\n                            onChange={(e) => props.handleChangeNumber(e.target.value)} required />\r\n        </div>\r\n        <br></br>\r\n        <div>\r\n          <button type=\"submit\">Add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Footer = () => {\r\n\r\n    const footerStyle = {\r\n        color:'gray',\r\n        textAlign:'center',\r\n        fonstSize: 16\r\n    }\r\n\r\n    return (\r\n        <div style={footerStyle}>\r\n          <br />\r\n          <em>Copyright &copy; Julius Kimuli</em>\r\n        </div> \r\n      )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n\r\n    return (\r\n     <input value={props.searchText}\r\n            onChange={(e) => props.handleChangeSearchText(e.target.value)}/>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst SuccessAlert = ({message}) => {\r\n\r\n    const successStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 16,\r\n        borderStyle: 'solid',\r\n        borderRadius: 2,\r\n        padding: 10,\r\n        marginBottom:10\r\n    }\r\n\r\n    if(message.length > 0){\r\n        return (\r\n         <p style={successStyle}> {message}</p>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <> </>\r\n    )\r\n\r\n}\r\n\r\nexport default SuccessAlert","import React from 'react'\r\n\r\nconst ErrorAlert = ({message}) => {\r\n\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 16,\r\n        borderStyle: 'solid',\r\n        borderRadius: 2,\r\n        padding: 10,\r\n        marginBottom:10\r\n    }\r\n\r\n    if(message.length > 0){\r\n        return (\r\n         <p style={errorStyle}> {message}</p>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <> </>\r\n    )\r\n\r\n}\r\n\r\nexport default ErrorAlert","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response=>response.data)\r\n  \r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteItem = id => {\r\n   const request = axios.delete(`${baseUrl}/${id}`)\r\n   return request.then(response => response.data )\r\n}\r\n\r\nexport default { getAll, create, update, deleteItem }","import React, { useState,useEffect} from 'react';\r\nimport Persons from './components/Persons';\r\nimport PersonForm from './components/PersonForm';\r\nimport Footer from './components/Footer';\r\nimport Filter from './components/Filter';\r\nimport SuccessAlert from './components/SuccessAlert'\r\nimport ErrorAlert from './components/ErrorAlert'\r\nimport phoneService from './services/phone'\r\n\r\nconst App = () => {\r\n\r\n  useEffect(()=> {\r\n         phoneService.getAll()\r\n           .then(initialPhones => {\r\n            setPersons(initialPhones)\r\n         })\r\n           .catch(error => console.log(error))     \r\n\r\n  },[])\r\n\r\n  const [ persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber]= useState('')\r\n  const [searchText,setSearchText]= useState('')\r\n  const [successMessage,setSuccessMessage]=useState('')\r\n  const [errorMessage,setErrorMessage] = useState('')\r\n\r\n  const filteredPersons = () => {\r\n    return persons.filter(person => person.name.toLowerCase().includes(searchText.toLowerCase()))\r\n  }  \r\n\r\n  const addName = (e) => {\r\n\r\n      e.preventDefault()      \r\n      const person_names = persons.map(person => person.name)\r\n      \r\n      if(person_names.includes(newName)){\r\n          window.confirm(`${newName} already exists in the phonebook,replace the old number with the new number?`)\r\n          const person = persons.filter(person => person.name === newName)\r\n          console.log(person[0].id)\r\n          const id = person[0].id\r\n          console.log(id)\r\n          const changedPerson = {...person[0], number: newNumber}\r\n          phoneService.update(id,changedPerson)\r\n                      .then(returnedPerson => {\r\n                        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n                        setNewName('')\r\n                        setNewNumber('')\r\n                        showSuccessMessage(`${returnedPerson.name} number changed!`)                        \r\n          }).catch(error => showErrorMessage(error.response.data))\r\n           \r\n      }else{\r\n\r\n        const newPersonObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        {/* Post the entered new phone number to the server */}\r\n\r\n        phoneService.create(newPersonObject)\r\n                    .then(returnedPerson => {\r\n                      setPersons([...persons,newPersonObject])\r\n                      setNewName('')\r\n                      setNewNumber('')\r\n                      showSuccessMessage(`${newPersonObject.name} has been added`)\r\n                    })\r\n                    .catch(error => {\r\n                         setNewName('')\r\n                         setNewNumber('')\r\n                         showErrorMessage(error.response.data)\r\n                    })  \r\n\r\n        }     \r\n  }\r\n\r\n  const handleChangeName = value => {\r\n      console.log(value)\r\n      setNewName(value)\r\n  }\r\n  \r\n  const handleChangeNumber = value => {\r\n      console.log(value)\r\n      setNewNumber(value)\r\n  }\r\n\r\n  const handleChangeSearchText = value => {\r\n      setSearchText(value)\r\n  }\r\n\r\n  const deleteName = person => {\r\n     const id = person.id\r\n\r\n     if(window.confirm(`Delete ${person.name}?`)){\r\n      phoneService.deleteItem(id)\r\n      .then(data => {\r\n       setPersons(persons.filter(person => person.id!==id )) \r\n       showSuccessMessage(`${person.name} has been deleted`)\r\n\r\n      })\r\n      .catch(error => showErrorMessage(error.response.data))\r\n     }\r\n     \r\n  }\r\n\r\n  const showSuccessMessage = (message) => {\r\n    setSuccessMessage(message)\r\n    setTimeout(() => {\r\n      setSuccessMessage('')\r\n    }, 3000)\r\n  }\r\n\r\n  const showErrorMessage = (message) => {\r\n    setErrorMessage(message.error)\r\n    setTimeout(() => {\r\n      setErrorMessage('')\r\n    }, 3000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n\r\n      {successMessage && <div>\r\n        <SuccessAlert message={successMessage}/>\r\n      </div>}\r\n      \r\n      {errorMessage && <div>\r\n        <ErrorAlert message={errorMessage}/>\r\n      </div>}\r\n\r\n      <div>\r\n        <h5>Search Phonebook:</h5>\r\n        <Filter searchText={searchText} handleChangeSearchText={handleChangeSearchText}/>\r\n      </div>\r\n      \r\n      \r\n      <h4>Add New:</h4>\r\n      <PersonForm onSubmit={addName}\r\n                  handleChangeName={handleChangeName}\r\n                  handleChangeNumber={handleChangeNumber}\r\n                  newName={newName}\r\n                  newNumber={newNumber}/>\r\n\r\n      <h2>Numbers</h2>\r\n      \r\n      <Persons persons={filteredPersons()} onClick={deleteName}/>\r\n\r\n      <hr></hr>\r\n      <Footer />\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App/>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}