(window.webpackJsonpcourseinfo=window.webpackJsonpcourseinfo||[]).push([[0],{16:function(e,n,t){e.exports=t(38)},38:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(13),o=t.n(c),u=t(15),l=t(14),i=t(2),m=function(e){var n=e.persons,t=e.onClick,r={liStyle:{color:"grey",paddingTop:8,fontSize:15}};return a.a.createElement("ul",null,n.map(function(e){return a.a.createElement("li",{style:r.liStyle,key:e.name},e.name," - ",e.number," \xa0 ",a.a.createElement("button",{onClick:function(){return t(e)}},"Delete"))}))},s=function(e){return a.a.createElement("form",{onSubmit:function(n){return e.onSubmit(n)}},a.a.createElement("div",null,"name: ",a.a.createElement("input",{value:e.newName,onChange:function(n){return e.handleChangeName(n.target.value)},required:!0})),a.a.createElement("br",null),a.a.createElement("div",null,"number: ",a.a.createElement("input",{value:e.newNumber,onChange:function(n){return e.handleChangeNumber(n.target.value)},required:!0})),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"Add")))},f=function(){return a.a.createElement("div",{style:{color:"gray",textAlign:"center",fonstSize:16}},a.a.createElement("br",null),a.a.createElement("em",null,"Copyright \xa9 Julius Kimuli"))},d=function(e){return a.a.createElement("input",{value:e.searchText,onChange:function(n){return e.handleChangeSearchText(n.target.value)}})},b=function(e){var n=e.message;return n.length>0?a.a.createElement("p",{style:{color:"green",background:"lightgrey",fontSize:16,borderStyle:"solid",borderRadius:2,padding:10,marginBottom:10}}," ",n):a.a.createElement(a.a.Fragment,null," ")},h=function(e){var n=e.message;return n.length>0?a.a.createElement("p",{style:{color:"red",background:"lightgrey",fontSize:16,borderStyle:"solid",borderRadius:2,padding:10,marginBottom:10}}," ",n):a.a.createElement(a.a.Fragment,null," ")},g=t(3),p=t.n(g),E="/api/persons",v=function(){return p.a.get(E).then(function(e){return e.data})},O=function(e){return p.a.post(E,e).then(function(e){return e.data})},y=function(e,n){return p.a.put("".concat(E,"/").concat(e),n).then(function(e){return e.data})},w=function(e){return p.a.delete("".concat(E,"/").concat(e)).then(function(e){return e.data})};function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var S=function(){Object(r.useEffect)(function(){v().then(function(e){c(e)}).catch(function(e){return console.log(e)})},[]);var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(""),g=Object(i.a)(o,2),p=g[0],E=g[1],S=Object(r.useState)(""),C=Object(i.a)(S,2),k=C[0],N=C[1],P=Object(r.useState)(""),x=Object(i.a)(P,2),D=x[0],T=x[1],z=Object(r.useState)(""),A=Object(i.a)(z,2),B=A[0],J=A[1],q=Object(r.useState)(""),F=Object(i.a)(q,2),L=F[0],R=F[1],I=function(e){J(e),setTimeout(function(){J("")},3e3)},K=function(e){R(e.error),setTimeout(function(){R("")},3e3)};return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),B&&a.a.createElement("div",null,a.a.createElement(b,{message:B})),L&&a.a.createElement("div",null,a.a.createElement(h,{message:L})),a.a.createElement("div",null,a.a.createElement("h5",null,"Search Phonebook:"),a.a.createElement(d,{searchText:D,handleChangeSearchText:function(e){T(e)}})),a.a.createElement("h4",null,"Add New:"),a.a.createElement(s,{onSubmit:function(e){if(e.preventDefault(),t.map(function(e){return e.name}).includes(p)){window.confirm("".concat(p," already exists in the phonebook,replace the old number with the new number?"));var n=t.filter(function(e){return e.name===p});console.log(n[0].id);var r=n[0].id;console.log(r);var a=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(t,!0).forEach(function(n){Object(l.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},n[0],{number:k});y(r,a).then(function(e){c(t.map(function(n){return n.id!==r?n:e})),E(""),N(""),I("".concat(e.name," number changed!"))}).catch(function(e){return K(e.response.data)})}else{var o={name:p,number:k};O(o).then(function(e){c([].concat(Object(u.a)(t),[o])),E(""),N(""),I("".concat(o.name," has been added"))}).catch(function(e){E(""),N(""),K(e.response.data)})}},handleChangeName:function(e){console.log(e),E(e)},handleChangeNumber:function(e){console.log(e),N(e)},newName:p,newNumber:k}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(m,{persons:t.filter(function(e){return e.name.toLowerCase().includes(D.toLowerCase())}),onClick:function(e){var n=e.id;window.confirm("Delete ".concat(e.name,"?"))&&w(n).then(function(r){c(t.filter(function(e){return e.id!==n})),I("".concat(e.name," has been deleted"))}).catch(function(e){return K(e.response.data)})}}),a.a.createElement("hr",null),a.a.createElement(f,null))};o.a.render(a.a.createElement(S,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.a2629fe3.chunk.js.map