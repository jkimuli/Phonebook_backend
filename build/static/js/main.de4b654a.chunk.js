(window.webpackJsonpcourseinfo=window.webpackJsonpcourseinfo||[]).push([[0],{16:function(e,t,n){e.exports=n(39)},21:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),l=n(15),u=n(14),i=n(2),m=(n(21),function(e){var t=e.persons,n=e.onClick;return r.a.createElement("table",null,r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.number),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return n(e)}},"Delete")))})))}),s=function(e){return r.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("div",null,"Name: ",r.a.createElement("input",{value:e.newName,type:"text",onChange:function(t){return e.handleChangeName(t.target.value)},required:!0})),r.a.createElement("div",null,"Number: ",r.a.createElement("input",{value:e.newNumber,type:"text",onChange:function(t){return e.handleChangeNumber(t.target.value)},required:!0})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn-success btn-block"},"Add")))},d=function(){return r.a.createElement("div",{className:"text-center text-dark"},r.a.createElement("br",null),r.a.createElement("em",null,"Copyright \xa9 Julius Kimuli"))},f=function(e){return r.a.createElement("input",{value:e.searchText,type:"text",onChange:function(t){return e.handleChangeSearchText(t.target.value)}})},b=function(e){var t=e.message;return t.length>0?r.a.createElement("p",{style:{color:"green",background:"lightgrey",fontSize:16,borderStyle:"solid",borderRadius:2,padding:10,marginBottom:10}}," ",t):r.a.createElement(r.a.Fragment,null," ")},h=function(e){var t=e.message;return t.length>0?r.a.createElement("p",{style:{color:"red",background:"lightgrey",fontSize:16,borderStyle:"solid",borderRadius:2,padding:10,marginBottom:10}}," ",t):r.a.createElement(r.a.Fragment,null," ")},p=n(3),g=n.n(p),E="/api/persons",v=function(){return g.a.get(E).then(function(e){return e.data})},O=function(e){return g.a.post(E,e).then(function(e){return e.data})},y=function(e,t){return g.a.put("".concat(E,"/").concat(e),t).then(function(e){return e.data})},w=function(e){return g.a.delete("".concat(E,"/").concat(e)).then(function(e){return e.data})},j=function(e){var t=e.title,n=e.icon;return r.a.createElement("div",{className:"navbar bg-primary"},r.a.createElement("h2",null,r.a.createElement("i",{className:n})," ",t))};j.defaultProps={title:"My Phonebook",icon:"fas fa-address-book"};var N=j;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var C=function(){Object(a.useEffect)(function(){v().then(function(e){c(e)}).catch(function(e){return console.log(e)})},[]);var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),p=Object(i.a)(o,2),g=p[0],E=p[1],j=Object(a.useState)(""),C=Object(i.a)(j,2),k=C[0],x=C[1],P=Object(a.useState)(""),D=Object(i.a)(P,2),T=D[0],A=D[1],B=Object(a.useState)(""),J=Object(i.a)(B,2),q=J[0],z=J[1],F=Object(a.useState)(""),L=Object(i.a)(F,2),M=L[0],R=L[1],I=function(e){z(e),setTimeout(function(){z("")},3e3)},K=function(e){R(e.error),setTimeout(function(){R("")},3e3)};return r.a.createElement("div",{className:"App"},r.a.createElement(N,null),r.a.createElement("div",{className:"container grid-2"},r.a.createElement("div",null,q&&r.a.createElement("p",null,r.a.createElement(b,{message:q})),M&&r.a.createElement("p",null,r.a.createElement(h,{message:M})),r.a.createElement("h5",null,"Search Phonebook:"),r.a.createElement(f,{searchText:T,handleChangeSearchText:function(e){A(e)}}),r.a.createElement("br",null),r.a.createElement("h5",{className:"text-center"},"Add New Phone Number:"),r.a.createElement(s,{onSubmit:function(e){if(e.preventDefault(),n.map(function(e){return e.name}).includes(g)){window.confirm("".concat(g," already exists in the phonebook,replace the old number with the new number?"));var t=n.filter(function(e){return e.name===g});console.log(t[0].id);var a=t[0].id;console.log(a);var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t[0],{number:k});y(a,r).then(function(e){c(n.map(function(t){return t.id!==a?t:e})),E(""),x(""),I("".concat(e.name," number changed!"))}).catch(function(e){return K(e.response.data)})}else{var o={name:g,number:k};O(o).then(function(e){c([].concat(Object(l.a)(n),[o])),E(""),x(""),I("".concat(o.name," has been added"))}).catch(function(e){E(""),x(""),K(e.response.data)})}},handleChangeName:function(e){console.log(e),E(e)},handleChangeNumber:function(e){console.log(e),x(e)},newName:g,newNumber:k})),r.a.createElement("div",{className:"card"},r.a.createElement("h3",{className:"text-center lead"}," My Contacts"),r.a.createElement(m,{persons:n.filter(function(e){return e.name.toLowerCase().includes(T.toLowerCase())}),onClick:function(e){var t=e.id;window.confirm("Delete ".concat(e.name,"?"))&&w(t).then(function(a){c(n.filter(function(e){return e.id!==t})),I("".concat(e.name," has been deleted"))}).catch(function(e){return K(e.response.data)})}}))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(d,null))};o.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.de4b654a.chunk.js.map