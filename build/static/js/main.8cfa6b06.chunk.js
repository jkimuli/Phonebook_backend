(window.webpackJsonpcourseinfo=window.webpackJsonpcourseinfo||[]).push([[0],{18:function(e,t,n){e.exports=n(41)},41:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),u=n.n(c),o=n(17),l=n(15),i=n(2),m=function(e){var t=e.persons,n=e.onClick,r={liStyle:{color:"grey",paddingTop:8,fontSize:15}};return a.a.createElement("ul",null,t.map(function(e){return a.a.createElement("li",{style:r.liStyle,key:e.name},e.name," - ",e.number," \xa0 ",a.a.createElement("button",{onClick:function(){return n(e)}},"Delete"))}))},s=function(e){return a.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},a.a.createElement("div",null,"name: ",a.a.createElement("input",{value:e.newName,onChange:function(t){return e.handleChangeName(t.target.value)},required:!0})),a.a.createElement("br",null),a.a.createElement("div",null,"number: ",a.a.createElement("input",{value:e.newNumber,onChange:function(t){return e.handleChangeNumber(t.target.value)},required:!0})),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"Add")))},f=function(){return a.a.createElement("div",{style:{color:"gray",textAlign:"center",fonstSize:16}},a.a.createElement("br",null),a.a.createElement("em",null,"Copyright \xa9 Julius Kimuli"))},d=function(e){return a.a.createElement("input",{value:e.searchText,onChange:function(t){return e.handleChangeSearchText(t.target.value)}})},b=function(e){var t=e.message;return t.length>0?a.a.createElement("p",{style:{color:"green",background:"lightgrey",fontSize:16,borderStyle:"solid",borderRadius:2,padding:10,marginBottom:10}}," ",t):a.a.createElement(a.a.Fragment,null," ")},h=function(e){var t=e.message;return t.length>0?a.a.createElement("p",{style:{color:"red",background:"lightgrey",fontSize:16,borderStyle:"solid",borderRadius:2,padding:10,marginBottom:10}}," ",t):a.a.createElement(a.a.Fragment,null," ")},g=n(4),p=n.n(g),E=n(16),v=n(3),O=n.n(v),y="/api/persons",w={getAll:function(){return O.a.get(y).then(function(e){return e.data})},create:function(){var e=Object(E.a)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.a.post(y,t),e.next=3,n;case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),update:function(e,t){return O.a.put("".concat(y,"/").concat(e),t).then(function(e){return e.data})},deleteItem:function(e){return O.a.delete("".concat(y,"/").concat(e)).then(function(e){return e.data})}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var S=function(){Object(r.useEffect)(function(){w.getAll().then(function(e){c(e)}).catch(function(e){return console.log(e)})},[]);var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],u=Object(r.useState)(""),g=Object(i.a)(u,2),p=g[0],E=g[1],v=Object(r.useState)(""),O=Object(i.a)(v,2),y=O[0],S=O[1],C=Object(r.useState)(""),k=Object(i.a)(C,2),N=k[0],P=k[1],x=Object(r.useState)(""),D=Object(i.a)(x,2),T=D[0],A=D[1],z=Object(r.useState)(""),B=Object(i.a)(z,2),I=B[0],J=B[1],q=function(e){A(e),setTimeout(function(){A("")},5e3)},F=function(e){J(e),setTimeout(function(){J("")},5e3)};return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement("div",null,a.a.createElement(b,{message:T})),a.a.createElement("div",null,a.a.createElement(h,{message:I})),a.a.createElement("div",null,a.a.createElement("h5",null,"Search Phonebook:"),a.a.createElement(d,{searchText:N,handleChangeSearchText:function(e){P(e)}})),a.a.createElement("h4",null,"Add New:"),a.a.createElement(s,{onSubmit:function(e){if(e.preventDefault(),n.map(function(e){return e.name}).includes(p)){window.confirm("".concat(p," already exists in the phonebook,replace the old number with the new number?"));var t=n.filter(function(e){return e.name===p});console.log(t[0].id);var r=t[0].id,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t[0],{number:y});w.update(r,a).then(function(e){c(n.map(function(t){return t.id!==r?t:e})),E(""),S(""),q("".concat(e.name," number changed!"))})}else{var u={name:p,number:y};w.create(u).then(function(e){c([].concat(Object(o.a)(n),[u])),E(""),S(""),q("".concat(u.name," has been added"))})}},handleChangeName:function(e){console.log(e),E(e)},handleChangeNumber:function(e){console.log(e),S(e)},newName:p,newNumber:y}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(m,{persons:n.filter(function(e){return e.name.toLowerCase().includes(N.toLowerCase())}),onClick:function(e){var t=e.id;window.confirm("Delete ".concat(e.name,"?"))&&w.deleteItem(t).then(function(r){c(n.filter(function(e){return e.id!==t})),q("".concat(e.name," has been deleted"))}).catch(function(e){return F(e)})}}),a.a.createElement("hr",null),a.a.createElement(f,null))};u.a.render(a.a.createElement(S,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.8cfa6b06.chunk.js.map